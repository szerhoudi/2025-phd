\documentclass{standalone}
\input{../_common.tex}

\begin{document}
\begin{tikzpicture}[node distance=3cm, auto, >=stealth]
    \node[framedfignode, fill=plotColor2!20, minimum height=2em, minimum width=3.6em] (v_i) {$v_{q_{i}}$};
    \node[framedfignode, minimum height=2em, minimum width=3.6em, right=of v_i] (W) {$W$};
    \node[framedfignode, fill=plotColor3!20, minimum height=2em, minimum width=3.6em, right=of W] (v_i1) {$v_{q_{i+1}}$};
    % \node[fignode, above=0.6 of W] (title) {\textbf{Linear Transformation (Alignment)}};

    \begin{scope}[on background layer]
        \node[draw, rounded corners, fill=plotColor2!10, fit=(v_i), inner sep=8pt] (srcbg) {};
        \node[draw, rounded corners, fill=plotColor3!10, fit=(v_i1), inner sep=8pt] (tgtbg) {};
    \end{scope}

    \draw[->, very thick] (v_i) -- (W);
    \draw[->, very thick] (W) -- (v_i1);

    \node[fignode, below=0.2 of W, font=\footnotesize] {$W \in \mathbb{R}^{d_t \times d_s}$};
    \node[fignode, below=0.15 of v_i, font=\footnotesize, text=plotColor2] {$\mathbb{R}^{d_s}$};
    \node[fignode, below=0.15 of v_i1, font=\footnotesize, text=plotColor3] {$\mathbb{R}^{d_t}$};

    \node[fignode, below=1.8 of W, text width=9cm, align=center] (formula)
    {$v_{q_{i+1}} \approx W\, v_{q_{i}}$};
\end{tikzpicture}
\end{document}