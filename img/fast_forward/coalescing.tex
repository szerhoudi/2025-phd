\documentclass{standalone}
\input{../_common.tex}

\begin{document}
\begin{tikzpicture}
    \draw[
        thick,
        rotate=135,
        postaction={
                decorate,
                decoration={
                        text effects along path,
                        text={\ \small embedding space\ },
                        text align=center,
                        text effects/.cd,
                        text along path,
                        every character/.style={
                                fill=background,
                                yshift=-0.5ex,
                            },
                    },
            },
    ] (0,0) ellipse (3 and 4);

    \node[
        circle,
        dotted,
        thick,
        minimum size=60,
        draw=red,
    ] (P012) at (1.25,1.25) {};
    \node[
        circle,
        fill=red,
        inner sep=0,
        minimum size=5,
        draw,
    ] (P) at (P012) {};
    \node[
        fill=background,
    ] at (P012.north) {\footnotesize \textcolor{red}{$\hat{p}_{012}$}};
    \draw[fill=gray] (0.75,0.75) circle (0.05) node[right] {\footnotesize $p_0$};
    \draw[fill=gray] (1.75,0.75) circle (0.05) node[above] {\footnotesize $p_1$};
    \draw[fill=gray] (1.75,1.75) circle (0.05) node[left] {\footnotesize $p_2$};

    \draw[fill=gray] (0.45,-1.7) circle (0.05) node[below] {\footnotesize $p_3$};
    \draw[fill=gray] (-2,0) circle (0.05) node[below] {\footnotesize $p_4$};

    \node[
        circle,
        dotted,
        thick,
        minimum size=45,
        draw=red,
    ] (P56) at (-0.3,-1) {};
    \node[
        circle,
        fill=red,
        inner sep=0,
        minimum size=5,
        draw,
    ] at (P56) {};
    \node[fill=background] at (P56.north) {\footnotesize \textcolor{red}{$\hat{p}_{56}$}};
    \draw[fill=gray] (0.15,-1.35) circle (0.05) node[above] {\footnotesize $p_5$};
    \draw[fill=gray] (-0.75,-0.65) circle (0.05) node[below] {\footnotesize $p_6$};

    \node[
        draw,
        fill=white,
    ] (FF) at (-5,2) {$\eta^{\text{FF}}(p_1)$};
    \draw[
        -latex,
        dashed,
        shorten >= 2,
    ] (FF) -- (P) node[
        pos=0.4,
        sloped,
        fill=background,
    ] {\small index look-up};
\end{tikzpicture}
\end{document}
