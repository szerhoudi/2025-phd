\documentclass{standalone}
\input{../../../_common.tex}

\begin{document}
\begin{tikzpicture}[font=\scriptsize]
    \begin{axis}[
            width=6cm,
            enlargelimits=false,
            colormap name={greenred},
            xlabel={Hidden dimensions $H$},
            xtick={0,1,2,3},
            xticklabels={128,256,512,768},
            ylabel={Encoder layers $L$},
            ytick={0,1,2,3,4,5,6},
            yticklabels={0,2,4,6,8,10,12},
        ]
        \addplot [
            matrix plot,
            nodes near coords style={
                    anchor=mid,
                    text=white,
                },
            nodes near coords={
                    \ifthenelse{
                        \equal{\pgfplotspointmetatransformed}{0}}
                    {}
                    {\pgfmathprintnumber[precision=4]{\pgfplotspointmeta}}
                },
            point meta=explicit,
        ] coordinates {
                (0,0) [nan] (1,0) [nan] (2,0) [nan] (3,0) [0.013]

                (0,1) [0.027] (1,1) [0.12] (2,1) [0.29] (3,1) [0.55]

                (0,2) [0.054] (1,2) [0.15] (2,2) [0.53] (3,2) [1.1]

                (0,3) [0.076] (1,3) [0.23] (2,3) [0.85] (3,3) [1.6]

                (0,4) [0.1] (1,4) [0.31] (2,4) [1.1] (3,4) [2.2]

                (0,5) [0.13] (1,5) [0.38] (2,5) [1.4] (3,5) [2.6]

                (0,6) [0.17] (1,6) [0.45] (2,6) [1.7] (3,6) [3.1]
            };
    \end{axis}
\end{tikzpicture}
\end{document}
