\documentclass{standalone}
\input{../../../_common.tex}

\begin{document}
\begin{tikzpicture}[font=\scriptsize]
    \begin{axis}[
            width=6cm,
            enlargelimits=false,
            colormap name={redgreen},
            xlabel={Hidden dimensions $H$},
            xtick={0,1,2,3},
            xticklabels={128,256,512,768},
            ylabel={Encoder layers $L$},
            ytick={0,1,2,3,4,5,6},
            yticklabels={0,2,4,6,8,10,12},
        ]
        \addplot [
            matrix plot,
            nodes near coords style={
                    anchor=mid,
                    text=white,
                },
            nodes near coords={
                    \ifthenelse{
                        \equal{\pgfplotspointmetatransformed}{0}}
                    {}
                    {\pgfmathprintnumber[precision=4]{\pgfplotspointmeta}}
                },
            point meta=explicit,
        ] coordinates {
                (0,0) [nan] (1,0) [nan] (2,0) [nan] (3,0) [0.67]

                (0,1) [0.66] (1,1) [0.65] (2,1) [0.64] (3,1) [0.66]

                (0,2) [0.64] (1,2) [0.65] (2,2) [0.63] (3,2) [0.66]

                (0,3) [0.64] (1,3) [0.65] (2,3) [0.63] (3,3) [0.63]

                (0,4) [0.64] (1,4) [0.65] (2,4) [0.66] (3,4) [0.63]

                (0,5) [0.65] (1,5) [0.67] (2,5) [0.66] (3,5) [0.66]

                (0,6) [0.64] (1,6) [0.66] (2,6) [0.63] (3,6) [0.67]
            };
    \end{axis}
\end{tikzpicture}
\end{document}
