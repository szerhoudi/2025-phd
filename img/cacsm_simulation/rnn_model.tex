\documentclass{standalone}
\input{../_common.tex}

\begin{document}
\begin{tikzpicture}[
    node distance=0.8cm and 1.5cm,
    fignode/.style={
        draw,
        rounded corners,
        minimum height=1cm,
        minimum width=2cm,
        align=center
    },
    arr/.style={-latex, thick}
]

% Nodes
\node[fignode] (i1) {$i_1$};
\node[fignode, right=of i1] (i2) {$i_2$};
\node (dots) at ($(i2.east) + (0.75, 0)$) {\dots};
\node[fignode, right=of dots] (it) {$i_{t-1}$};

\node[fignode, fill=plotColor2!20, minimum height=1.5cm, minimum width=8cm, below=of dots] (gru) {GRU};
\node[fignode, below=of gru, minimum width=3cm] (ffn) {Feed-Forward \\ Network};
\node[below=of ffn] (pred) {Predicted Action $p_a$};

% Arrows
\draw[arr] (i1) -- (i1 |- gru.north);
\draw[arr] (i2) -- (i2 |- gru.north);
\draw[arr] (it) -- (it |- gru.north);
\draw[arr, dashed] (gru.190) to[bend right=60] (gru.170);
\draw[arr, dashed] ($(gru.north west) + (1, -0.3)$) to[bend left=20] ($(gru.north west) + (1.5, -0.3)$);

\draw[arr] (gru) -- node[midway, right] {State $s_t$} (ffn);
\draw[arr] (ffn) -- (pred);

\end{tikzpicture}
\end{document}